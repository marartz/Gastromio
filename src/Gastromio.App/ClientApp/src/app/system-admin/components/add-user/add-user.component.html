<block-ui>
	<div class="modal-overlay">
		<div class="modal_v3">
			<div id="close">
				<button
					type="button"
					aria-label="Schließen"
					(click)="activeModal.dismiss('Cross click')"
				>
					<svg
						viewBox="0 0 32 32"
						xmlns="http://www.w3.org/2000/svg"
						role="presentation"
						focusable="false"
						style="
							display: block;
							fill: none;
							height: 16px;
							width: 16px;
							stroke: currentcolor;
							stroke-width: 3;
							overflow: visible;
						"
					>
						<path d="m6 6 20 20"></path>
						<path d="m26 6-20 20"></path>
					</svg>
				</button>
			</div>
			<header id="header">
				<div class="left"></div>
				<div class="middle">
					<h1 class="title" tabindex="-1">Benutzer hinzufügen</h1>
				</div>
				<div class="right"></div>
			</header>
			<div id="body" tabindex="0">
				<form
					[formGroup]="addUserForm"
					(ngSubmit)="onSubmit(addUserForm.value)"
				>
					<div class="wrapper">
						<div class="input-wrapper">
							<div class="input-inner">
								<div
									style="
										background: none;
										border-radius: 8px 8px 0px 0px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
									"
								></div>
								<label>
									<div class="label">E-Mail-Adresse</div>
									<input
										type="email"
										autocomplete="off"
										autocapitalize="none"
										mozactionhint="next"
										autocapitalize="none"
										inputmode="email"
										required=""
										id="email"
										formControlName="email"
										[ngClass]="{ 'is-invalid': submitted && f.email.errors }"
									/>
								</label>
								<div
									class="border"
									style="
										border: 1px solid rgb(176, 176, 176);
										border-radius: 8px 8px 0px 0px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
										z-index: 0;
									"
								></div>
							</div>
						</div>
						<div class="input-wrapper">
							<div class="input-inner">
								<div
									style="
										background: none;
										border-radius: 0px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
									"
								></div>
								<label>
									<div class="label">Rolle</div>
									<select
										autocomplete="off"
										mozactionhint="next"
										required=""
										id="role"
										formControlName="role"
									>
										<option value="" selected="" disabled="" hidden="">
											Bitte auswählen
										</option>
										<option></option>
										<option value="RestaurantAdmin">
											Restaurantadministrator
										</option>
										<option value="SystemAdmin">Systemadministrator</option>
									</select>
								</label>
								<div
									class="border"
									style="
										border: 1px solid rgb(176, 176, 176);
										border-radius: 0px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
										z-index: 0;
									"
								></div>
							</div>
						</div>
						<div class="input-wrapper">
							<div class="input-inner">
								<div
									style="
										background: none;
										border-radius: 0px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
									"
								></div>
								<label>
									<div class="label">Passwort</div>
									<input
										type="password"
										autocomplete="off"
										autocapitalize="none"
										mozactionhint="next"
										inputmode="verbatim"
										id="password"
										formControlName="password"
										[ngClass]="{ 'is-invalid': submitted && f.password.errors }"
									/>
								</label>
								<div
									class="border"
									style="
										border: 1px solid rgb(176, 176, 176);
										border-radius: 0px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
										z-index: 0;
									"
								></div>
							</div>
						</div>
						<div class="input-wrapper">
							<div class="input-inner">
								<div
									style="
										background: none;
										border-radius: 0px 0px 8px 8px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
									"
								></div>
								<label>
									<div class="label">Passwort wiederholen</div>
									<input
										type="password"
										autocomplete="off"
										autocapitalize="none"
										mozactionhint="next"
										inputmode="verbatim"
										id="passwordRepeat"
										formControlName="passwordRepeat"
										[ngClass]="{
											'is-invalid': submitted && f.passwordRepeat.errors
										}"
									/>
								</label>
								<div
									class="border"
									style="
										border: 1px solid rgb(176, 176, 176);
										border-radius: 0px 0px 8px 8px;
										bottom: -1px;
										left: 0px;
										right: 0px;
										top: 0px;
										z-index: 0;
									"
								></div>
							</div>
						</div>
					</div>
					<div id="feedback">
						<div class="help-text" *ngIf="submitted && f.email.errors">
							<span *ngIf="f.email.errors.required"
								>Bitte gebe eine E-Mail-Adresse an.</span
							>
							<span *ngIf="f.email.errors.pattern"
								>Bitte gebe eine gültige E-Mail-Adresse an.</span
							>
						</div>
						<div class="help-text" *ngIf="submitted && f.role.errors">
							<span *ngIf="f.role.errors.required"
								>Bitte wähle eine Rolle aus.</span
							>
						</div>
						<div class="help-text" *ngIf="submitted && f.password.errors">
							<span *ngIf="f.password.errors.required"
								>Bitte gebe ein Passwort an.</span
							>
							<span *ngIf="f.password.errors.pattern"
								>Das Passwort ist nicht komplex genug (mind. 1 Klein-, 1
								Großbuchstabe, 1 Ziffer und 1 Sonderzeichen)</span
							>
						</div>
						<div class="help-text" *ngIf="submitted && f.passwordRepeat.errors">
							<span *ngIf="submitted && f.passwordRepeat.errors"
								>Das Passwort stimmt nicht mit dem vorherigen überein.</span
							>
						</div>
						<div class="help-text" *ngIf="(message$ | async) !== undefined">
							{{ message$ | async }}
						</div>
					</div>
					<div id="submit"><button type="submit">Hinzufügen</button></div>
				</form>
			</div>
		</div>
	</div>
</block-ui>
